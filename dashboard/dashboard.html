<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuraAI - Autonomous Disaster Recovery</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        function Dashboard() {
            const [stats, setStats] = useState({
                testsRun: 0,
                incidentsPrevented: 0,
                anomaliesDetected: 0,
                actionsT aken: 0,
                incidentsResolved: 0,
                notificationsSent: 0
            });
            
            const [recentEvents, setRecentEvents] = useState([]);
            const [systemHealth, setSystemHealth] = useState("healthy");
            
            useEffect(() => {
                // Simulate real-time updates
                const interval = setInterval(() => {
                    fetchStats();
                    fetchEvents();
                }, 2000);
                
                return () => clearInterval(interval);
            }, []);
            
            const fetchStats = async () => {
                // In production, fetch from API
                // For demo, simulate
                setStats(prev => ({
                    testsRun: prev.testsRun + Math.random() > 0.7 ? 1 : 0,
                    incidentsPrevented: prev.incidentsPrevented + Math.random() > 0.95 ? 1 : 0,
                    anomaliesDetected: prev.anomaliesDetected + Math.random() > 0.9 ? 1 : 0,
                    actionsTaken: prev.actionsTaken + Math.random() > 0.93 ? 1 : 0,
                    incidentsResolved: prev.incidentsResolved + Math.random() > 0.96 ? 1 : 0,
                    notificationsSent: prev.notificationsSent + Math.random() > 0.92 ? 1 : 0
                }));
            };
            
            const fetchEvents = () => {
                // Simulate events
                if (Math.random() > 0.8) {
                    const events = [
                        "ðŸ¦ Canary test completed for UPDATE-" + Math.floor(Math.random() * 1000),
                        "ðŸ‘ï¸ Anomaly detected on server-" + Math.floor(Math.random() * 100),
                        "ðŸš‘ Automatic rollback initiated",
                        "âœ… System recovery completed",
                        "ðŸ“¢ Stakeholders notified"
                    ];
                    const newEvent = events[Math.floor(Math.random() * events.length)];
                    setRecentEvents(prev => [
                        { time: new Date().toLocaleTimeString(), event: newEvent },
                        ...prev.slice(0, 9)
                    ]);
                }
            };
            
            return (
                <div className="min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 text-white p-8">
                    {/* Header */}
                    <div className="mb-8">
                        <h1 className="text-5xl font-bold mb-2">SuraAI</h1>
                        <p className="text-xl text-blue-300">Autonomous Disaster Recovery Network</p>
                        <p className="text-sm text-gray-400 mt-2">The immune system for your infrastructure</p>
                    </div>
                    
                    {/* System Status */}
                    <div className="mb-8 bg-green-500 bg-opacity-20 border border-green-500 rounded-lg p-4">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center">
                                <div className="w-3 h-3 bg-green-500 rounded-full mr-3 animate-pulse"></div>
                                <span className="text-lg font-semibold">All Systems Operational</span>
                            </div>
                            <span className="text-sm text-gray-300">Last updated: {new Date().toLocaleTimeString()}</span>
                        </div>
                    </div>
                    
                    {/* Stats Grid */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <StatCard 
                            title="Canary Tests Run"
                            value={stats.testsRun}
                            icon="ðŸ¦"
                            color="blue"
                        />
                        <StatCard 
                            title="Incidents Prevented"
                            value={stats.incidentsPrevented}
                            icon="ðŸ›¡ï¸"
                            color="green"
                        />
                        <StatCard 
                            title="Anomalies Detected"
                            value={stats.anomaliesDetected}
                            icon="ðŸ‘ï¸"
                            color="yellow"
                        />
                        <StatCard 
                            title="Actions Taken"
                            value={stats.actionsTaken}
                            icon="ðŸš‘"
                            color="red"
                        />
                        <StatCard 
                            title="Incidents Resolved"
                            value={stats.incidentsResolved}
                            icon="âœ…"
                            color="green"
                        />
                        <StatCard 
                            title="Notifications Sent"
                            value={stats.notificationsSent}
                            icon="ðŸ“¢"
                            color="purple"
                        />
                    </div>
                    
                    {/* Agent Status */}
                    <div className="mb-8">
                        <h2 className="text-2xl font-bold mb-4">Agent Status</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <AgentCard name="Canary Agent" status="active" activity="Testing UPDATE-847" />
                            <AgentCard name="Monitoring Agent" status="active" activity="Watching 100 systems" />
                            <AgentCard name="Response Agent" status="active" activity="Ready for action" />
                            <AgentCard name="Communication Agent" status="active" activity="Status: All clear" />
                        </div>
                    </div>
                    
                    {/* Recent Events */}
                    <div>
                        <h2 className="text-2xl font-bold mb-4">Recent Events</h2>
                        <div className="bg-gray-800 bg-opacity-50 rounded-lg p-6">
                            {recentEvents.length === 0 ? (
                                <p className="text-gray-400">Waiting for events...</p>
                            ) : (
                                <div className="space-y-2">
                                    {recentEvents.map((event, idx) => (
                                        <div key={idx} className="flex items-start border-b border-gray-700 pb-2">
                                            <span className="text-gray-400 text-sm mr-4 mt-1">{event.time}</span>
                                            <span className="flex-1">{event.event}</span>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }
        
        function StatCard({ title, value, icon, color }) {
            const colors = {
                blue: 'from-blue-500 to-blue-700',
                green: 'from-green-500 to-green-700',
                yellow: 'from-yellow-500 to-yellow-700',
                red: 'from-red-500 to-red-700',
                purple: 'from-purple-500 to-purple-700'
            };
            
            return (
                <div className={`bg-gradient-to-br ${colors[color]} rounded-lg p-6 shadow-lg`}>
                    <div className="flex items-center justify-between mb-4">
                        <span className="text-4xl">{icon}</span>
                        <span className="text-4xl font-bold">{value}</span>
                    </div>
                    <h3 className="text-lg font-semibold">{title}</h3>
                </div>
            );
        }
        
        function AgentCard({ name, status, activity }) {
            return (
                <div className="bg-gray-800 bg-opacity-50 rounded-lg p-4 border border-gray-700">
                    <div className="flex items-center justify-between mb-2">
                        <h3 className="font-semibold">{name}</h3>
                        <div className="flex items-center">
                            <div className="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                            <span className="text-xs text-green-400">{status}</span>
                        </div>
                    </div>
                    <p className="text-sm text-gray-400">{activity}</p>
                </div>
            );
        }
        
        ReactDOM.render(<Dashboard />, document.getElementById('root'));
    </script>
</body>
</html>
